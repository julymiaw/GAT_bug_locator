# 仓库介绍

## 运行步骤

```shell
# 将类级别的文件依赖图保存为文件级别
python save_graph_fold_dataframes.py {file_prefix}

# 将数据载入内存
python load_data_to_joblib_memmap.py {file_prefix}

# 评估数据集的依赖边数与连通情况
python evaluate_dataset.py {file_prefix}

# 训练模型
python train_adaptive_GAT.py {file_prefix}

# 评估模型
python evaluator.py {log_dir}
```

## 数据集评估结果

### AspectJ数据集的图结构和消息传播特性评估结果

1. 基本统计

    | 指标              | 数值     |
    | ----------------- | -------- |
    | 总bug数           | 576      |
    | 总文件数          | 19340    |
    | 修复文件比例      | 0.123%   |
    | 平均每个bug的边数 | 11752.08 |

2. 图结构特性

    | 指标             | 均值     | 标准差  |
    | ---------------- | -------- | ------- |
    | 节点数量         | 2325.76  | 692.24  |
    | 边数量           | 11459.61 | 3853.50 |
    | 图密度           | 0.00457  | 0.00141 |
    | 修复文件数       | 2.91     | 6.14    |
    | 连通分量数       | 18.28    | 6.10    |
    | 最大连通分量大小 | 2308.49  | 696.27  |
    | 平均路径长度     | 2.50     | 0.05    |
    | 消息传递效率     | 0.40     | 0.01    |

3. 消息传播特性

    | 指标                 | 数值  |
    | -------------------- | ----- |
    | 到修复文件的平均跳数 | 1.93  |
    | 不可达节点比例       | 1.57% |
    | 平均邻居数           | 9.72  |

4. 跳数分布

    | 跳数             | 节点占比 |
    | ---------------- | -------- |
    | 0 (修复文件本身) | 0.15%    |
    | 1                | 2.22%    |
    | 2                | 71.86%   |
    | 3                | 23.74%   |
    | 4                | 0.46%    |
    | 5                | <0.01%   |
    | 不可达           | 1.57%    |

**评估结论**：AspectJ数据集具有良好的连通性（98.43%的节点可达修复文件），较短的平均路径长度（2.50），且71.86%的节点在2跳范围内可达修复文件，表明该数据集非常适合基于消息传递机制的GAT模型。图密度较低(0.00457)但每个节点平均有9.72个邻居，为消息传递提供了足够的通道。

### Tomcat数据集的图结构和消息传播特性评估结果

1. 基本统计

    | 指标              | 数值    |
    | ----------------- | ------- |
    | 总bug数           | 1045    |
    | 总文件数          | 16698   |
    | 修复文件比例      | 0.165%  |
    | 平均每个bug的边数 | 5012.08 |

2. 图结构特性

    | 指标             | 均值    | 标准差  |
    | ---------------- | ------- | ------- |
    | 节点数量         | 1150.68 | 236.86  |
    | 边数量           | 5011.30 | 1180.58 |
    | 图密度           | 0.00779 | 0.00130 |
    | 修复文件数       | 2.11    | 4.88    |
    | 连通分量数       | 57.40   | 3.32    |
    | 最大连通分量大小 | 1088.13 | 232.74  |
    | 平均路径长度     | 3.61    | 0.09    |
    | 消息传递效率     | 0.28    | 0.01    |

3. 消息传播特性

    | 指标                 | 数值  |
    | -------------------- | ----- |
    | 到修复文件的平均跳数 | 3.36  |
    | 不可达节点比例       | 8.29% |
    | 平均邻居数           | 8.49  |

4. 跳数分布

    | 跳数             | 节点占比 |
    | ---------------- | -------- |
    | 0 (修复文件本身) | 0.19%    |
    | 1                | 2.81%    |
    | 2                | 27.84%   |
    | 3                | 38.38%   |
    | 4                | 15.29%   |
    | 5                | 4.77%    |
    | 6                | 1.70%    |
    | 7                | 0.57%    |
    | 8                | 0.13%    |
    | 9                | 0.02%    |
    | 10               | <0.01%   |
    | 不可达           | 8.29%    |

**评估结论**：Tomcat数据集相比AspectJ具有更高的图密度(0.00779)和更大的平均路径长度(3.61)。虽然连通性略低(91.71%的节点可达修复文件)，但消息传递结构较丰富，大约66.22%的节点在2-3跳范围内可达修复文件，每个节点平均有8.49个邻居。这种图结构特性也适合GAT模型的消息传递机制，但可能需要处理更多跳距的信息传递。

### SWT数据集的图结构和消息传播特性评估结果

1. 基本统计

    | 指标              | 数值    |
    | ----------------- | ------- |
    | 总bug数           | 4141    |
    | 总文件数          | 50437   |
    | 修复文件比例      | 0.089%  |
    | 平均每个bug的边数 | 8423.95 |

2. 图结构特性

    | 指标             | 均值    | 标准差  |
    | ---------------- | ------- | ------- |
    | 节点数量         | 1181.29 | 355.57  |
    | 边数量           | 8675.91 | 2884.92 |
    | 图密度           | 0.01361 | 0.00455 |
    | 修复文件数       | 1.75    | 3.23    |
    | 连通分量数       | 9.92    | 2.21    |
    | 最大连通分量大小 | 1171.96 | 353.06  |
    | 平均路径长度     | 2.63    | 0.05    |
    | 消息传递效率     | 0.38    | 0.01    |

3. 消息传播特性

    | 指标                 | 数值  |
    | -------------------- | ----- |
    | 到修复文件的平均跳数 | 2.07  |
    | 不可达节点比例       | 0.96% |
    | 平均邻居数           | 14.24 |

4. 跳数分布

    | 跳数             | 节点占比 |
    | ---------------- | -------- |
    | 0 (修复文件本身) | 0.16%    |
    | 1                | 12.68%   |
    | 2                | 66.32%   |
    | 3                | 18.70%   |
    | 4                | 1.14%    |
    | 5                | 0.03%    |
    | 6                | <0.01%   |
    | 不可达           | 0.96%    |

**评估结论**：SWT数据集具有极高的连通性(99.04%的节点可达修复文件)和较高的图密度(0.01361)。平均路径长度较短(2.63)，且大多数节点(66.32%)在2跳范围内可达修复文件，每个节点平均有14.24个邻居，这些特性使得SWT数据集非常适合基于消息传递的GNN模型。数据集的连通分量数较少(9.92)，表明图的结构更加紧凑。

### JDT数据集的图结构和消息传播特性评估结果

1. 基本统计

    | 指标              | 数值    |
    | ----------------- | ------- |
    | 总bug数           | 6247    |
    | 总文件数          | 60774   |
    | 修复文件比例      | 0.090%  |
    | 平均每个bug的边数 | 7456.48 |

2. 图结构特性

    | 指标         | 均值    | 标准差  |
    | ------------ | ------- | ------- |
    | 节点数量     | 2138.56 | 904.84  |
    | 边数量       | 7819.92 | 3997.81 |
    | 图密度       | 0.00395 | 0.00201 |
    | 修复文件数   | 2.06    | 2.86    |
    | 连通分量数   | 139.20  | 40.86   |
    | 平均路径长度 | 4.27    | 0.15    |
    | 消息传递效率 | 0.23    | 0.01    |

3. 消息传播特性

    | 指标                 | 数值   |
    | -------------------- | ------ |
    | 到修复文件的平均跳数 | 5.16   |
    | 不可达节点比例       | 10.24% |
    | 平均邻居数           | 6.86   |

4. 跳数分布

    | 跳数             | 节点占比 |
    | ---------------- | -------- |
    | 0 (修复文件本身) | 0.13%    |
    | 1                | 1.32%    |
    | 2                | 13.63%   |
    | 3                | 28.54%   |
    | 4                | 28.05%   |
    | 5                | 12.29%   |
    | 6                | 3.78%    |
    | 7                | 1.10%    |
    | 8                | 0.44%    |
    | 9                | 0.22%    |
    | 10               | 0.17%    |
    | 11-16            | <0.10%   |
    | 不可达           | 10.24%   |

**评估结论**：JDT数据集的连通性较低(89.76%的节点可达修复文件)，平均路径长度较长(4.27)，表明信息需要经过更多的跳数才能传播到修复文件。连通分量数较多(139.20)，说明图结构较为分散。虽然图密度较低(0.00395)，平均邻居数也不高(6.86)，但56.59%的节点集中在3-4跳范围内可达修复文件，这对于设计使用多层GNN是一个重要考虑因素。

### Eclipse Platform UI数据集的图结构和消息传播特性评估结果

1. 基本统计

    | 指标              | 数值     |
    | ----------------- | -------- |
    | 总bug数           | 6433     |
    | 总文件数          | 76915    |
    | 修复文件比例      | 0.065%   |
    | 平均每个bug的边数 | 12475.71 |

2. 图结构特性

    | 指标         | 均值     | 标准差  |
    | ------------ | -------- | ------- |
    | 节点数量     | 2848.56  | 1445.29 |
    | 边数量       | 12996.04 | 7210.21 |
    | 图密度       | 0.00424  | 0.00267 |
    | 修复文件数   | 2.11     | 6.23    |
    | 连通分量数   | 118.27   | 50.37   |
    | 平均路径长度 | 3.94     | 0.30    |
    | 消息传递效率 | 0.26     | 0.02    |

3. 消息传播特性

    | 指标                 | 数值  |
    | -------------------- | ----- |
    | 到修复文件的平均跳数 | 3.92  |
    | 不可达节点比例       | 6.94% |
    | 平均邻居数           | 8.84  |

4. 跳数分布

    | 跳数             | 节点占比 |
    | ---------------- | -------- |
    | 0 (修复文件本身) | 0.10%    |
    | 1                | 1.71%    |
    | 2                | 17.71%   |
    | 3                | 35.95%   |
    | 4                | 26.29%   |
    | 5                | 8.30%    |
    | 6                | 2.21%    |
    | 7                | 0.55%    |
    | 8                | 0.14%    |
    | 9-15             | <0.10%   |
    | 不可达           | 6.94%    |

**评估结论**：Eclipse Platform UI数据集具有较好的连通性(93.06%的节点可达修复文件)，平均路径长度中等(3.94)。图密度较低(0.00424)但平均邻居数适中(8.84)。这个数据集的特点是大多数节点(62.24%)集中在3-4跳范围内可达修复文件，连通分量数量较多(118.27)。这种结构适合使用多层GNN模型进行消息传递，特别是需要关注3-4跳范围内的信息聚合。

### BIRT数据集的图结构和消息传播特性评估结果

1. 基本统计

    | 指标              | 数值     |
    | ----------------- | -------- |
    | 总bug数           | 4141     |
    | 总文件数          | 65604    |
    | 修复文件比例      | 0.042%   |
    | 平均每个bug的边数 | 39098.23 |

2. 图结构特性

    | 指标         | 均值     | 标准差   |
    | ------------ | -------- | -------- |
    | 节点数量     | 6255.05  | 2085.56  |
    | 边数量       | 38648.80 | 14329.09 |
    | 图密度       | 0.00223  | 0.00094  |
    | 修复文件数   | 2.60     | 5.92     |
    | 连通分量数   | 227.90   | 55.47    |
    | 平均路径长度 | 3.66     | 0.05     |
    | 消息传递效率 | 0.27     | <0.01    |

3. 消息传播特性

    | 指标                 | 数值  |
    | -------------------- | ----- |
    | 到修复文件的平均跳数 | 4.30  |
    | 不可达节点比例       | 6.37% |
    | 平均邻居数           | 12.09 |

4. 跳数分布

    | 跳数             | 节点占比 |
    | ---------------- | -------- |
    | 0 (修复文件本身) | 0.05%    |
    | 1                | 0.94%    |
    | 2                | 22.90%   |
    | 3                | 37.23%   |
    | 4                | 22.89%   |
    | 5                | 6.83%    |
    | 6                | 1.90%    |
    | 7                | 0.64%    |
    | 8                | 0.20%    |
    | 9                | 0.04%    |
    | 10-12            | <0.01%   |
    | 不可达           | 6.37%    |

**评估结论**：BIRT数据集是规模最大的数据集之一，具有较高的节点数量(6255.05)和极高的边数量(38648.80)。虽然图密度较低(0.00223)，但平均邻居数较高(12.09)，表明节点间的连接比较丰富。连通性良好(93.63%的节点可达修复文件)，但连通分量数极多(227.90)，说明图结构较为分散。数据显示83.02%的节点集中在2-4跳范围内可达修复文件，这种结构特点使得它适合使用3-4层的GNN模型来捕获足够范围内的信息传递。

## 模型训练与评估结果

我们的模型支持两种评估指标作为优化目标：

- **MAP** (Mean Average Precision, 平均精确率)：关注排序结果整体质量
- **MRR** (Mean Reciprocal Rank, 平均倒数排名)：更关注第一个相关结果的位置

以下结果分别展示了针对不同优化目标的模型性能。

### Aspectj 数据集

#### 基准模型 (SGDRegressor)

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.1842 |     | Accuracy@11 | 0.6447 |
| Accuracy@2  | 0.2895 |     | Accuracy@12 | 0.6579 |
| Accuracy@3  | 0.3684 |     | Accuracy@13 | 0.6579 |
| Accuracy@4  | 0.4079 |     | Accuracy@14 | 0.6711 |
| Accuracy@5  | 0.4605 |     | Accuracy@15 | 0.6711 |
| Accuracy@6  | 0.5000 |     | Accuracy@16 | 0.6711 |
| Accuracy@7  | 0.5132 |     | Accuracy@17 | 0.6711 |
| Accuracy@8  | 0.5921 |     | Accuracy@18 | 0.6711 |
| Accuracy@9  | 0.6447 |     | Accuracy@19 | 0.6842 |
| Accuracy@10 | 0.6447 |     | Accuracy@20 | 0.7105 |
| MAP         | 0.2665 |     | MRR         | 0.3175 |

#### MAP优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.2368 |     | Accuracy@11 | 0.5921 |
| Accuracy@2  | 0.3158 |     | Accuracy@12 | 0.6184 |
| Accuracy@3  | 0.3816 |     | Accuracy@13 | 0.6711 |
| Accuracy@4  | 0.4079 |     | Accuracy@14 | 0.6842 |
| Accuracy@5  | 0.4342 |     | Accuracy@15 | 0.7105 |
| Accuracy@6  | 0.4474 |     | Accuracy@16 | 0.7105 |
| Accuracy@7  | 0.4474 |     | Accuracy@17 | 0.7105 |
| Accuracy@8  | 0.4737 |     | Accuracy@18 | 0.7368 |
| Accuracy@9  | 0.5395 |     | Accuracy@19 | 0.7368 |
| Accuracy@10 | 0.5658 |     | Accuracy@20 | 0.7368 |
| MAP         | 0.3011 |     | MRR         | 0.3436 |

#### 性能对比分析 - MAP优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.2665 | 0.3175 | 0.1842     | 0.4605     | 0.6447      | 0.7105      |
| GAT模型 (MAP) | 0.3011 | 0.3436 | 0.2368     | 0.4342     | 0.5658      | 0.7368      |
| 提升百分比    | 13.0%  | 8.2%   | 28.6%      | -5.7%      | -12.2%      | 3.7%        |

#### MRR优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.2632 |     | Accuracy@11 | 0.5789 |
| Accuracy@2  | 0.3289 |     | Accuracy@12 | 0.6053 |
| Accuracy@3  | 0.3553 |     | Accuracy@13 | 0.6184 |
| Accuracy@4  | 0.3947 |     | Accuracy@14 | 0.6842 |
| Accuracy@5  | 0.4474 |     | Accuracy@15 | 0.7368 |
| Accuracy@6  | 0.4474 |     | Accuracy@16 | 0.7368 |
| Accuracy@7  | 0.4868 |     | Accuracy@17 | 0.7368 |
| Accuracy@8  | 0.5263 |     | Accuracy@18 | 0.7368 |
| Accuracy@9  | 0.5395 |     | Accuracy@19 | 0.7368 |
| Accuracy@10 | 0.5658 |     | Accuracy@20 | 0.7368 |
| MAP         | 0.3137 |     | MRR         | 0.3584 |

#### 性能对比分析 - MRR优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.2665 | 0.3175 | 0.1842     | 0.4605     | 0.6447      | 0.7105      |
| GAT模型 (MRR) | 0.3137 | 0.3584 | 0.2632     | 0.4474     | 0.5658      | 0.7368      |
| 提升百分比    | 17.7%  | 12.9%  | 42.9%      | -2.9%      | -12.2%      | 3.7%        |

### Tomcat 数据集

#### 基准模型 (SGDRegressor)

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.4294 |     | Accuracy@11 | 0.7101 |
| Accuracy@2  | 0.5266 |     | Accuracy@12 | 0.7174 |
| Accuracy@3  | 0.5780 |     | Accuracy@13 | 0.7229 |
| Accuracy@4  | 0.6092 |     | Accuracy@14 | 0.7303 |
| Accuracy@5  | 0.6294 |     | Accuracy@15 | 0.7358 |
| Accuracy@6  | 0.6514 |     | Accuracy@16 | 0.7376 |
| Accuracy@7  | 0.6679 |     | Accuracy@17 | 0.7431 |
| Accuracy@8  | 0.6807 |     | Accuracy@18 | 0.7450 |
| Accuracy@9  | 0.6954 |     | Accuracy@19 | 0.7486 |
| Accuracy@10 | 0.7064 |     | Accuracy@20 | 0.7523 |
| MAP         | 0.5275 |     | MRR         | 0.5232 |

#### MAP优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.4440 |     | Accuracy@11 | 0.7119 |
| Accuracy@2  | 0.5284 |     | Accuracy@12 | 0.7248 |
| Accuracy@3  | 0.5908 |     | Accuracy@13 | 0.7284 |
| Accuracy@4  | 0.6183 |     | Accuracy@14 | 0.7339 |
| Accuracy@5  | 0.6440 |     | Accuracy@15 | 0.7376 |
| Accuracy@6  | 0.6624 |     | Accuracy@16 | 0.7394 |
| Accuracy@7  | 0.6734 |     | Accuracy@17 | 0.7450 |
| Accuracy@8  | 0.6844 |     | Accuracy@18 | 0.7486 |
| Accuracy@9  | 0.6917 |     | Accuracy@19 | 0.7486 |
| Accuracy@10 | 0.7009 |     | Accuracy@20 | 0.7541 |
| MAP         | 0.5411 |     | MRR         | 0.5333 |

#### 性能对比分析 - MAP优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.5275 | 0.5232 | 0.4294     | 0.6294     | 0.7064      | 0.7523      |
| GAT模型 (MAP) | 0.5411 | 0.5333 | 0.4440     | 0.6440     | 0.7009      | 0.7541      |
| 提升百分比    | 2.6%   | 1.9%   | 3.4%       | 2.3%       | -0.8%       | 0.2%        |

#### MRR优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.4312 |     | Accuracy@11 | 0.7174 |
| Accuracy@2  | 0.5303 |     | Accuracy@12 | 0.7211 |
| Accuracy@3  | 0.5945 |     | Accuracy@13 | 0.7303 |
| Accuracy@4  | 0.6330 |     | Accuracy@14 | 0.7321 |
| Accuracy@5  | 0.6587 |     | Accuracy@15 | 0.7339 |
| Accuracy@6  | 0.6734 |     | Accuracy@16 | 0.7413 |
| Accuracy@7  | 0.6844 |     | Accuracy@17 | 0.7468 |
| Accuracy@8  | 0.6954 |     | Accuracy@18 | 0.7523 |
| Accuracy@9  | 0.6991 |     | Accuracy@19 | 0.7578 |
| Accuracy@10 | 0.7101 |     | Accuracy@20 | 0.7633 |
| MAP         | 0.5365 |     | MRR         | 0.5297 |

#### 性能对比分析 - MRR优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.5275 | 0.5232 | 0.4294     | 0.6294     | 0.7064      | 0.7523      |
| GAT模型 (MRR) | 0.5365 | 0.5297 | 0.4312     | 0.6587     | 0.7101      | 0.7633      |
| 提升百分比    | 1.7%   | 1.2%   | 0.4%       | 4.7%       | 0.5%        | 1.5%        |

### Swt 数据集

#### 基准模型 (SGDRegressor)

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.3051 |     | Accuracy@11 | 0.5051 |
| Accuracy@2  | 0.3730 |     | Accuracy@12 | 0.5106 |
| Accuracy@3  | 0.4117 |     | Accuracy@13 | 0.5141 |
| Accuracy@4  | 0.4348 |     | Accuracy@14 | 0.5169 |
| Accuracy@5  | 0.4537 |     | Accuracy@15 | 0.5202 |
| Accuracy@6  | 0.4677 |     | Accuracy@16 | 0.5238 |
| Accuracy@7  | 0.4757 |     | Accuracy@17 | 0.5279 |
| Accuracy@8  | 0.4842 |     | Accuracy@18 | 0.5314 |
| Accuracy@9  | 0.4908 |     | Accuracy@19 | 0.5350 |
| Accuracy@10 | 0.4988 |     | Accuracy@20 | 0.5369 |
| MAP         | 0.5540 |     | MRR         | 0.3715 |

#### MAP优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.3117 |     | Accuracy@11 | 0.5166 |
| Accuracy@2  | 0.3851 |     | Accuracy@12 | 0.5210 |
| Accuracy@3  | 0.4224 |     | Accuracy@13 | 0.5249 |
| Accuracy@4  | 0.4469 |     | Accuracy@14 | 0.5293 |
| Accuracy@5  | 0.4642 |     | Accuracy@15 | 0.5314 |
| Accuracy@6  | 0.4762 |     | Accuracy@16 | 0.5367 |
| Accuracy@7  | 0.4872 |     | Accuracy@17 | 0.5402 |
| Accuracy@8  | 0.4960 |     | Accuracy@18 | 0.5424 |
| Accuracy@9  | 0.5034 |     | Accuracy@19 | 0.5441 |
| Accuracy@10 | 0.5106 |     | Accuracy@20 | 0.5463 |
| MAP         | 0.5699 |     | MRR         | 0.3803 |

#### 性能对比分析 - MAP优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.5540 | 0.3715 | 0.3051     | 0.4537     | 0.4988      | 0.5369      |
| GAT模型 (MAP) | 0.5699 | 0.3803 | 0.3117     | 0.4642     | 0.5106      | 0.5463      |
| 提升百分比    | 2.9%   | 2.4%   | 2.2%       | 2.3%       | 2.4%        | 1.7%        |

#### MRR优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.2958 |     | Accuracy@11 | 0.5188 |
| Accuracy@2  | 0.3757 |     | Accuracy@12 | 0.5229 |
| Accuracy@3  | 0.4172 |     | Accuracy@13 | 0.5273 |
| Accuracy@4  | 0.4400 |     | Accuracy@14 | 0.5323 |
| Accuracy@5  | 0.4592 |     | Accuracy@15 | 0.5358 |
| Accuracy@6  | 0.4757 |     | Accuracy@16 | 0.5386 |
| Accuracy@7  | 0.4856 |     | Accuracy@17 | 0.5422 |
| Accuracy@8  | 0.4966 |     | Accuracy@18 | 0.5446 |
| Accuracy@9  | 0.5059 |     | Accuracy@19 | 0.5463 |
| Accuracy@10 | 0.5117 |     | Accuracy@20 | 0.5496 |
| MAP         | 0.5562 |     | MRR         | 0.3700 |

#### 性能对比分析 - MRR优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.5540 | 0.3715 | 0.3051     | 0.4537     | 0.4988      | 0.5369      |
| GAT模型 (MRR) | 0.5562 | 0.3700 | 0.2958     | 0.4592     | 0.5117      | 0.5496      |
| 提升百分比    | 0.4%   | -0.4%  | -3.1%      | 1.2%       | 2.6%        | 2.4%        |

### Birt 数据集

#### 基准模型 (SGDRegressor)

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.1416 |     | Accuracy@11 | 0.4145 |
| Accuracy@2  | 0.2048 |     | Accuracy@12 | 0.4244 |
| Accuracy@3  | 0.2498 |     | Accuracy@13 | 0.4340 |
| Accuracy@4  | 0.2844 |     | Accuracy@14 | 0.4419 |
| Accuracy@5  | 0.3096 |     | Accuracy@15 | 0.4521 |
| Accuracy@6  | 0.3308 |     | Accuracy@16 | 0.4617 |
| Accuracy@7  | 0.3536 |     | Accuracy@17 | 0.4697 |
| Accuracy@8  | 0.3717 |     | Accuracy@18 | 0.4798 |
| Accuracy@9  | 0.3873 |     | Accuracy@19 | 0.4894 |
| Accuracy@10 | 0.4002 |     | Accuracy@20 | 0.4938 |
| MAP         | 0.1736 |     | MRR         | 0.2272 |

#### MAP优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.1452 |     | Accuracy@11 | 0.4096 |
| Accuracy@2  | 0.2108 |     | Accuracy@12 | 0.4197 |
| Accuracy@3  | 0.2545 |     | Accuracy@13 | 0.4285 |
| Accuracy@4  | 0.2863 |     | Accuracy@14 | 0.4378 |
| Accuracy@5  | 0.3129 |     | Accuracy@15 | 0.4469 |
| Accuracy@6  | 0.3313 |     | Accuracy@16 | 0.4546 |
| Accuracy@7  | 0.3511 |     | Accuracy@17 | 0.4645 |
| Accuracy@8  | 0.3689 |     | Accuracy@18 | 0.4730 |
| Accuracy@9  | 0.3818 |     | Accuracy@19 | 0.4826 |
| Accuracy@10 | 0.3986 |     | Accuracy@20 | 0.4927 |
| MAP         | 0.1769 |     | MRR         | 0.2299 |

#### 性能对比分析 - MAP优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.1736 | 0.2272 | 0.1416     | 0.3096     | 0.4002      | 0.4938      |
| GAT模型 (MAP) | 0.1769 | 0.2299 | 0.1452     | 0.3129     | 0.3986      | 0.4927      |
| 提升百分比    | 1.9%   | 1.2%   | 2.5%       | 1.1%       | -0.4%       | -0.2%       |

#### MRR优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.1455 |     | Accuracy@11 | 0.4071 |
| Accuracy@2  | 0.2092 |     | Accuracy@12 | 0.4214 |
| Accuracy@3  | 0.2479 |     | Accuracy@13 | 0.4304 |
| Accuracy@4  | 0.2847 |     | Accuracy@14 | 0.4425 |
| Accuracy@5  | 0.3083 |     | Accuracy@15 | 0.4516 |
| Accuracy@6  | 0.3330 |     | Accuracy@16 | 0.4634 |
| Accuracy@7  | 0.3494 |     | Accuracy@17 | 0.4710 |
| Accuracy@8  | 0.3656 |     | Accuracy@18 | 0.4798 |
| Accuracy@9  | 0.3785 |     | Accuracy@19 | 0.4897 |
| Accuracy@10 | 0.3950 |     | Accuracy@20 | 0.4944 |
| MAP         | 0.1749 |     | MRR         | 0.2290 |

#### 性能对比分析 - MRR优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.1736 | 0.2272 | 0.1416     | 0.3096     | 0.4002      | 0.4938      |
| GAT模型 (MRR) | 0.1749 | 0.2290 | 0.1455     | 0.3083     | 0.3950      | 0.4944      |
| 提升百分比    | 0.8%   | 0.8%   | 2.7%       | -0.4%      | -1.3%       | 0.1%        |

### Jdt 数据集

#### 基准模型 (SGDRegressor)

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.3200 |     | Accuracy@11 | 0.6663 |
| Accuracy@2  | 0.4292 |     | Accuracy@12 | 0.6751 |
| Accuracy@3  | 0.4946 |     | Accuracy@13 | 0.6847 |
| Accuracy@4  | 0.5360 |     | Accuracy@14 | 0.6911 |
| Accuracy@5  | 0.5678 |     | Accuracy@15 | 0.6986 |
| Accuracy@6  | 0.5917 |     | Accuracy@16 | 0.7063 |
| Accuracy@7  | 0.6137 |     | Accuracy@17 | 0.7130 |
| Accuracy@8  | 0.6278 |     | Accuracy@18 | 0.7177 |
| Accuracy@9  | 0.6423 |     | Accuracy@19 | 0.7230 |
| Accuracy@10 | 0.6548 |     | Accuracy@20 | 0.7289 |
| MAP         | 0.3973 |     | MRR         | 0.4333 |

#### MAP优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.2880 |     | Accuracy@11 | 0.6523 |
| Accuracy@2  | 0.3986 |     | Accuracy@12 | 0.6645 |
| Accuracy@3  | 0.4654 |     | Accuracy@13 | 0.6739 |
| Accuracy@4  | 0.5083 |     | Accuracy@14 | 0.6826 |
| Accuracy@5  | 0.5410 |     | Accuracy@15 | 0.6904 |
| Accuracy@6  | 0.5675 |     | Accuracy@16 | 0.6984 |
| Accuracy@7  | 0.5927 |     | Accuracy@17 | 0.7038 |
| Accuracy@8  | 0.6106 |     | Accuracy@18 | 0.7106 |
| Accuracy@9  | 0.6245 |     | Accuracy@19 | 0.7167 |
| Accuracy@10 | 0.6391 |     | Accuracy@20 | 0.7202 |
| MAP         | 0.3720 |     | MRR         | 0.4055 |

#### 性能对比分析 - MAP优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.3973 | 0.4333 | 0.3200     | 0.5678     | 0.6548      | 0.7289      |
| GAT模型 (MAP) | 0.3720 | 0.4055 | 0.2880     | 0.5410     | 0.6391      | 0.7202      |
| 提升百分比    | -6.4%  | -6.4%  | -10.0%     | -4.7%      | -2.4%       | -1.2%       |

#### MRR优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.2861 |     | Accuracy@11 | 0.6501 |
| Accuracy@2  | 0.3969 |     | Accuracy@12 | 0.6597 |
| Accuracy@3  | 0.4609 |     | Accuracy@13 | 0.6697 |
| Accuracy@4  | 0.5047 |     | Accuracy@14 | 0.6772 |
| Accuracy@5  | 0.5381 |     | Accuracy@15 | 0.6847 |
| Accuracy@6  | 0.5670 |     | Accuracy@16 | 0.6917 |
| Accuracy@7  | 0.5880 |     | Accuracy@17 | 0.6976 |
| Accuracy@8  | 0.6061 |     | Accuracy@18 | 0.7059 |
| Accuracy@9  | 0.6216 |     | Accuracy@19 | 0.7123 |
| Accuracy@10 | 0.6353 |     | Accuracy@20 | 0.7169 |
| MAP         | 0.3701 |     | MRR         | 0.4030 |

#### 性能对比分析 - MRR优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.3973 | 0.4333 | 0.3200     | 0.5678     | 0.6548      | 0.7289      |
| GAT模型 (MRR) | 0.3701 | 0.4030 | 0.2861     | 0.5381     | 0.6353      | 0.7169      |
| 提升百分比    | -6.8%  | -7.0%  | -10.6%     | -5.2%      | -3.0%       | -1.6%       |

### Eclipse_platform_ui 数据集

#### 基准模型 (SGDRegressor)

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.3450 |     | Accuracy@11 | 0.6218 |
| Accuracy@2  | 0.4353 |     | Accuracy@12 | 0.6276 |
| Accuracy@3  | 0.4896 |     | Accuracy@13 | 0.6333 |
| Accuracy@4  | 0.5219 |     | Accuracy@14 | 0.6380 |
| Accuracy@5  | 0.5470 |     | Accuracy@15 | 0.6443 |
| Accuracy@6  | 0.5666 |     | Accuracy@16 | 0.6507 |
| Accuracy@7  | 0.5821 |     | Accuracy@17 | 0.6562 |
| Accuracy@8  | 0.5947 |     | Accuracy@18 | 0.6609 |
| Accuracy@9  | 0.6048 |     | Accuracy@19 | 0.6653 |
| Accuracy@10 | 0.6122 |     | Accuracy@20 | 0.6689 |
| MAP         | 0.4503 |     | MRR         | 0.4371 |

#### MAP优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.3401 |     | Accuracy@11 | 0.6138 |
| Accuracy@2  | 0.4243 |     | Accuracy@12 | 0.6229 |
| Accuracy@3  | 0.4791 |     | Accuracy@13 | 0.6289 |
| Accuracy@4  | 0.5078 |     | Accuracy@14 | 0.6360 |
| Accuracy@5  | 0.5327 |     | Accuracy@15 | 0.6412 |
| Accuracy@6  | 0.5529 |     | Accuracy@16 | 0.6468 |
| Accuracy@7  | 0.5676 |     | Accuracy@17 | 0.6522 |
| Accuracy@8  | 0.5814 |     | Accuracy@18 | 0.6574 |
| Accuracy@9  | 0.5942 |     | Accuracy@19 | 0.6626 |
| Accuracy@10 | 0.6041 |     | Accuracy@20 | 0.6655 |
| MAP         | 0.4454 |     | MRR         | 0.4296 |

#### 性能对比分析 - MAP优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.4503 | 0.4371 | 0.3450     | 0.5470     | 0.6122      | 0.6689      |
| GAT模型 (MAP) | 0.4454 | 0.4296 | 0.3401     | 0.5327     | 0.6041      | 0.6655      |
| 提升百分比    | -1.1%  | -1.7%  | -1.4%      | -2.6%      | -1.3%       | -0.5%       |

#### MRR优化的GAT模型

| 属性        | 分数   |     | 属性        | 分数   |
| ----------- | ------ | --- | ----------- | ------ |
| Accuracy@1  | 0.3322 |     | Accuracy@11 | 0.6143 |
| Accuracy@2  | 0.4157 |     | Accuracy@12 | 0.6208 |
| Accuracy@3  | 0.4695 |     | Accuracy@13 | 0.6284 |
| Accuracy@4  | 0.5025 |     | Accuracy@14 | 0.6346 |
| Accuracy@5  | 0.5302 |     | Accuracy@15 | 0.6399 |
| Accuracy@6  | 0.5546 |     | Accuracy@16 | 0.6464 |
| Accuracy@7  | 0.5720 |     | Accuracy@17 | 0.6520 |
| Accuracy@8  | 0.5849 |     | Accuracy@18 | 0.6571 |
| Accuracy@9  | 0.5976 |     | Accuracy@19 | 0.6614 |
| Accuracy@10 | 0.6058 |     | Accuracy@20 | 0.6650 |
| MAP         | 0.4382 |     | MRR         | 0.4232 |

#### 性能对比分析 - MRR优化

| 模型          | MAP    | MRR    | Accuracy@1 | Accuracy@5 | Accuracy@10 | Accuracy@20 |
| :------------ | :----- | :----- | :--------- | :--------- | :---------- | :---------- |
| SGDRegressor  | 0.4503 | 0.4371 | 0.3450     | 0.5470     | 0.6122      | 0.6689      |
| GAT模型 (MRR) | 0.4382 | 0.4232 | 0.3322     | 0.5302     | 0.6058      | 0.6650      |
| 提升百分比    | -2.7%  | -3.2%  | -3.7%      | -3.1%      | -1.0%       | -0.6%       |
